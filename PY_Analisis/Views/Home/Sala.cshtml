@{
    ViewData["Title"] = "Sala de consultorios";
}

<video class="video-background2" autoplay muted loop>
    <source src="~/videos/fondo.mp4" type="video/mp4" />
</video>

<div class= "contenido"> 
    <form asp-controller="Home" asp-action="CrearConsultorio" method="post">
        <button type="submit" id="Botton-CrearConsultorio" class="button-inicio">Crear consultorio</button>
    </form>
    <button class="button-inicio" id="botton-Paciente">Agregar paciente</button>
    <button class="button-inicio"  id="botton-Especialidad" >Agregar especialidad</button>
    <button class="button-inicio"  id="botton-consultorio" >Ver consultorio</button>
</div>

<div id="modalContainer"></div>
<div id="modalContainer"></div>

@section Styles {
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />
}

@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

    <script>
        // Mensaje éxito en verde
        @if (TempData["Mensaje"] != null)
        {
            <text>toastr.success("@TempData["Mensaje"]");</text>
        }

        // Mensaje error en rojo
        @if (TempData["Error"] != null)
        {
            <text>toastr.error("@TempData["Error"]");</text>
        }
    document.getElementById("botton-consultorio").addEventListener("click", function () {
    fetch('/Home/consultorio')
        .then(response => response.text())
        .then(html => {
            document.getElementById("modalContainer").innerHTML = html;
            const modal = document.getElementById("modalConsultorio");
            modal.style.display = "block";

            modal.querySelector(".close").addEventListener("click", () => {
                modal.style.display = "none";
            });
            window.addEventListener("click", event => {
                if (event.target === modal) {
                    modal.style.display = "none";
                }
            });
        });
    })
    document.getElementById("botton-Paciente").addEventListener("click", function () {
    fetch('/Home/AgregarPacientes')
        .then(response => response.text())
        .then(html => {
            document.getElementById("modalContainer").innerHTML = html;
            const modal = document.getElementById("modalPaciente");
            modal.style.display = "block";

            modal.querySelector(".close").addEventListener("click", () => {
                modal.style.display = "none";
            });
            window.addEventListener("click", event => {
                if (event.target === modal) {
                    modal.style.display = "none";
                }
            });
        });
    })
    document.getElementById("botton-Especialidad").addEventListener("click", function () {
    fetch('/Home/AgregarEspecialidad')
        .then(response => response.text())
        .then(html => {
            document.getElementById("modalContainer").innerHTML = html;
            const modal = document.getElementById("modalEspecialidad");
            modal.style.display = "block";

            modal.querySelector(".close").addEventListener("click", () => {
                modal.style.display = "none";
            });
            window.addEventListener("click", event => {
                if (event.target === modal) {
                    modal.style.display = "none";
                }
            });
        });
    })

</script>
}